<!-- This file is generated by system. Do not edit this file. -->
<script name="Apply_Blackhole_Host_ACL">
<comments>Factory script to apply access-lists to blackhole the specified host</comments>
<content>#@MetaDataStart
####################################################################
#@DetailDescriptionStart
#############################################################################
# Extreme Networks(R) CLI Scripting Library
# scripting.Script        : Apply access-lists to blackhole the specified host
# Revision      : 1.1
# Last Updated  : April 25, 2011
#
# Purpose:  To apply access-lists to blackhole the specified host
#
#
#
#####################################################################
#@DetailDescriptionEnd

# @ScriptDescription "Basic best practice deployment of Extreme switches. Please see scripting.Script View tab for details."
# @SectionStart ( description = "Blackhole Host ACL Basics")
# @VariableFieldLabel ( description = "Abort on error?",
#    type          = String,
#   scope       = global,
#   required    = yes,
#   validValues=[yes,no])
set var abort_when_error yes

################################################################################
# Blackhole host
################################################################################
# @VariableFieldLabel (description = "MAC address of the host"
#      type        = String
#     scope       = global
#      required    = yes
#    )
set var hostMacAddress &quot;&quot;

# @VariableFieldLabel (description = "VLAN name"
#      type        = String
#     scope       = global
#      required    = yes
#    )
set var hostVLANName &quot;&quot;

# @SectionEnd

#@MetaDataEnd
################################################################################
################################################################################
# CONFIGURATION DETAIL
################################################################################
################################################################################
# CLI MODE
################################################################################
IF ($abort_when_error == no) THEN
 configure cli mode scripting ignore-error
ELSE
  configure cli mode scripting abort-on-error
ENDIF

IF (![string equal $vendor &quot;Extreme&quot;]) THEN
   error &quot;This script is only supported for Extreme switches.&quot;
ENDIF


################################################################################
# Blackhole host script Parameters
################################################################################

IF ([string equal $hostMacAddress ""]) THEN
    error &quot;hostMacAddress parameter cannot be empty&quot;
ENDIF

IF ([string equal $hostVLANName ""]) THEN
    error &quot;hostVLANName parameter cannot be empty&quot;
ENDIF

if {[catch {
    create fdbentry $hostMacAddress vlan $hostVLANName blackhole
} result ]} {
    error "Error occurred during access-list configuration. $result"
}
</content>
  <creator>system</creator>
  <contexts>,Device,</contexts>
  <supprotedGroups></supprotedGroups>
  <roles>,Administrator,</roles>
  <auditLogEnabled>true</auditLogEnabled>
  <saveConfigOnExit>false</saveConfigOnExit>
  <menuScope>TOOLS</menuScope>
  <scriptTimeout>60</scriptTimeout>
  <defaultCategory>Security</defaultCategory>
</script>
